:root{
  /* --- Inn-tonality palette (parchment + forest + copper) --- */
  --bg0:#070a0f;
  --bg1:#0b0f14;
  --bg2:#0a0e15;

  --text:#d8d2c7;                 /* parchment-white */
  --muted: rgba(216,210,199,.70);
  --dim: rgba(216,210,199,.52);

  --rule: rgba(255,255,255,.07);
  --rule2: rgba(255,255,255,.05);

  --copper: rgba(198, 104, 74, .62);
  --copperLine: rgba(198, 104, 74, .26);

  --shadow: 0 20px 55px rgba(0,0,0,.55);
  --radius: 22px;

  /* Layout tuning */
  --framePad: clamp(16px, 2.2vw, 28px);
  --panelPad: clamp(18px, 2.4vw, 34px);
  --maxW: 980px;

  /* Border image */
  --frameImg: url("assets/heartstrings-frame.png");
  --frameOpacity: .92;

  /* Embers tuning */
  --emberOpacity: .45;            /* quieter than menu */
}

/* Global reset */
*{ box-sizing:border-box; }
html, body{
  margin:0;
  height:100%;
  background: var(--bg1);
  overflow:hidden; /* we scroll inside the panel */
  -webkit-overflow-scrolling: touch;
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Background atmosphere (INTEGRATED apoth-bg.png) */
body{
  background:
    radial-gradient(120% 90% at 50% 12%, rgba(255,255,255,.035), transparent 60%),
    radial-gradient(120% 120% at 50% 52%, transparent 58%, rgba(0,0,0,.68) 100%),
    url("assets/apoth-bg.png") center / 1400px repeat,
    linear-gradient(180deg, #0b1a16 0%, #07110f 100%);
}

/* Embers canvas sits behind stage content */
#embers{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  opacity: var(--emberOpacity);
  pointer-events: none;
  z-index: 0;
}

/* Stage centers the framed panel */
.stage{
  position: relative;
  z-index: 1;
  height: 100%;
  display: grid;
  place-items: center;
  padding: var(--framePad);
}

/* Frame image: full-bleed to stage box */
.border{
  position: absolute;
  inset: var(--framePad);
  border-radius: var(--radius);
  background-image: var(--frameImg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  opacity: var(--frameOpacity);
  filter: drop-shadow(0 18px 45px rgba(0,0,0,.62));
  pointer-events: none;
}

/* Scroll panel sits inside frame inset */
.panel{
  position: relative;
  width: min(var(--maxW), calc(100vw - (var(--framePad) * 2)));
  height: calc(100vh - (var(--framePad) * 2));
  border-radius: var(--radius);
  overflow: auto;
  padding: var(--panelPad);
  box-shadow: var(--shadow);

  /* Cabinet-glass vibe: subtle translucency */
  background:
    radial-gradient(120% 80% at 50% 0%, rgba(255,255,255,.035), transparent 60%),
    linear-gradient(180deg, rgba(12,16,22,.78), rgba(10,14,19,.64));
  border: 1px solid rgba(255,255,255,.06);
  backdrop-filter: blur(7px);
  -webkit-backdrop-filter: blur(7px);

  scrollbar-gutter: stable both-edges;
}

/* Mobile: keep the frame snug */
@media (max-width: 520px){
  :root{ --framePad: 12px; }
  .panel{ padding: 16px; }
}

/* Header */
.head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 18px;
  padding-top: 4px;
}

.brand{
  display:flex;
  align-items:flex-start;
  gap: 14px;
}

.sigil{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.08);
  background:
    radial-gradient(60% 60% at 30% 25%, rgba(198,104,74,.20), transparent 62%),
    radial-gradient(80% 80% at 70% 70%, rgba(198,104,74,.10), transparent 64%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
  box-shadow: 0 10px 25px rgba(0,0,0,.35);
}

.titles h1{
  margin: 0;
  font-size: clamp(22px, 2.2vw, 30px);
  letter-spacing: .6px;
  font-weight: 680;
}

.tag{
  margin: 6px 0 0;
  color: var(--muted);
  font-size: 14px;
  line-height: 1.25;
}

.meta{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.pill{
  font-size: 12px;
  color: var(--muted);
  border: 1px solid rgba(255,255,255,.07);
  background: rgba(255,255,255,.02);
  padding: 8px 10px;
  border-radius: 999px;
  white-space: nowrap;
}

.rule{
  height: 1px;
  width: 100%;
  margin: 16px 0 18px;
  background: linear-gradient(90deg, transparent, var(--copperLine), transparent);
}
.rule.soft{
  margin: 18px 0 14px;
  background: linear-gradient(90deg, transparent, var(--rule), transparent);
}

/* Content blocks */
.content{
  display:flex;
  flex-direction: column;
  gap: 18px;
  padding-bottom: 6px;
}

.section{
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 18px;
  background:
    radial-gradient(120% 90% at 40% 0%, rgba(255,255,255,.03), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,.018), rgba(0,0,0,.05));
  padding: 14px 14px 12px;
}

.sectionHead{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.sectionTitle{
  font-weight: 680;
  letter-spacing: .3px;
  margin: 0;
  font-size: 16px;
}

.sectionNote{
  color: var(--dim);
  font-size: 12px;
}

.items{
  display:grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.item{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 10px;
  border-radius: 14px;
  background: rgba(0,0,0,.14);
  border: 1px solid rgba(255,255,255,.05);
}

.item .left{
  min-width: 0;
}
.item .name{
  font-size: 14px;
  margin: 0;
  letter-spacing: .2px;
}
.item .desc{
  margin: 4px 0 0;
  font-size: 12px;
  line-height: 1.25;
  color: var(--muted);
}

.item .right{
  flex: 0 0 auto;
  display:flex;
  align-items:center;
  gap: 10px;
}

.price{
  font-weight: 650;
  color: rgba(216,210,199,.92);
  letter-spacing: .2px;
}

.badge{
  font-size: 11px;
  color: rgba(216,210,199,.78);
  border: 1px solid rgba(198,104,74,.24);
  background: rgba(198,104,74,.08);
  padding: 6px 8px;
  border-radius: 999px;
}

/* Footer fine print */
.foot{
  margin-top: 16px;
  padding-bottom: 6px;
}

.fine{
  display:flex;
  flex-direction: column;
  gap: 10px;
}

.fineRow{
  display:grid;
  grid-template-columns: 72px 1fr;
  gap: 12px;
  align-items: start;
}

.label{
  color: var(--dim);
  font-size: 12px;
  letter-spacing: .25px;
  text-transform: uppercase;
}
.value{
  color: var(--muted);
  font-size: 12px;
  line-height: 1.25;
}

.copyright{
  margin-top: 16px;
  color: rgba(216,210,199,.55);
  font-size: 12px;
  text-align: center;
}

/* Accessible focus */
.panel:focus{
  outline: 2px solid rgba(198,104,74,.25);
  outline-offset: 4px;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  #embers{ display:none; }
}